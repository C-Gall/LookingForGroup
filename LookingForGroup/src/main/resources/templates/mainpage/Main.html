<!-- src/main/resources/templates/mainpage/Home.html -->
<!DOCTYPE HTML>

<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Home</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.14.0-beta2/css/bootstrap-select.min.css"/>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
</head>

<div th:replace="~{fragments/Header :: header}"></div>

<body style="padding-top: 3.5rem; padding-bottom: 3.5rem;">
	<div class="d-flex p-2 justify-content-center text-center">
		<h3 th:if="${newUser}" th:text="'Welcome to LookingForGroup, ' + ${username} + '!'"></h3>
		<h3 th:unless="${newUser}" th:text="'Welcome back to LookingForGroup, ' + ${username} + '!'"></h3>					
	</div>
	
	<div class="container">
		<div class="row">
			<!-- LHS of Main Page, containing Newest Lobbies and Members -->
			<div class="col">
				<div class="container">
					<!-- Newest members -->
					<div class="row">
						<div class="col">
							<h5>LFG's Newest Users!</h5>
							<table class="table table-sm">
								<thead>
									<tr>
										<th scope="col">Name</th>
										<th scope="col">Join Date</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each = "profile : ${newestUsers}">
										<td><a th:href="@{'/profile' (id = ${profile.id})}" th:text="${profile.username}"></a></td>
										<td th:text = "${#strings.substring(#strings.replace(profile.creationTime, 'T', ' '), 0, 19)}"></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<!-- Newest lobbies -->
					<div class="row">
						<div class="col">
							<h5>LFG's Newest Lobbies!</h5>
							<table class="table table-sm">
								<thead>
									<tr>
										<th scope="col">Name</th>
										<th scope="col">System</th>
										<th scope="col">Players</th>
										<th scope="col">Creation Date</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each = "lobby : ${newestLobbies}">
										<td><a th:href="@{'/lobby' (id = ${lobby.id})}" th:text="${lobby.lobbyName}"></td>
										<td th:text = "${lobby.system}"></td>
										<td th:text="${#lists.size(lobby.members) - 1} + ' / ' + ${lobby.maxPlayers}"/>
										<td th:text = "${#strings.substring(#strings.replace(lobby.creationTime, 'T', ' '), 0, 19)}"></td>
									</tr>
								</tbody>	
							</table>
						</div>						
					</div>
					<!-- Recently updated lobbies -->
					<div class="row">
						<div class="col">
							<h5>LFG's Recently Updated Lobbies!</h5>
							<table class="table table-sm">
								<thead>
									<tr>
										<th scope="col">Name</th>
										<th scope="col">System</th>
										<th scope="col">Players</th>
										<th scope="col">Updated Date</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each = "lobby : ${recentlyUpdatedLobbies}">
										<td><a th:href="@{'/lobby' (id = ${lobby.id})}" th:text="${lobby.lobbyName}"></td>
										<td th:text = "${lobby.system}"></td>
										<td th:text="${#lists.size(lobby.members) - 1} + ' / ' + ${lobby.maxPlayers}"/>
										<td th:text = "${#strings.substring(#strings.replace(lobby.updatedTime, 'T', ' '), 0, 19)}"></td>
									</tr>
								</tbody>	
							</table>
						</div>						
					</div>	
				</div>
			</div>
			<!-- RHS of Main Page, containing YouTube video and news page -->
			<div class="col-lg">
				<div class="container">
					<!-- Youtube element -->
					<div class="row">
						<div class="col">
							
						</div>						
					</div>
					<!-- News and updates -->
					<div class="row">
						<div class="col">
							
						</div>						
					</div>					
				</div>				
			</div>
		</div>
	</div>
	

	
	
</body>

<div th:replace="~{fragments/Footer :: footer}"></div>

</html>